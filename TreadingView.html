<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <title>ุฑุณู ุจูุงูู ูุจุงุดุฑ ูุฃุณูู ุงูุฅูุงุฑุงุช (ADX + DFM)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;margin:0;padding:16px}
    h1{margin:0 0 12px}
    .bar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-bottom:12px}
    select,button{padding:8px 10px;font-size:14px}
    #chart{width:100%;height:70vh;min-height:480px;border:1px solid #eee;border-radius:10px;overflow:hidden}
    .hint{color:#666;font-size:13px;margin-top:8px}
  </style>
</head>
<body>
  <h1>๐ ุฑุณู ุจูุงูู ูุจุงุดุฑ ูุฃุณูู ุงูุฅูุงุฑุงุช</h1>
  <div class="bar">
    <label for="symbol">ุงุฎุชุฑ ุงูุฑูุฒ:</label>
    <select id="symbol">
      <!-- ุฃุจูุธุจู ADX -->
      <optgroup label="ุฃุจูุธุจู (ADX)">
        <option value="ADX:FAB">ADX:FAB โ ุจูู ุฃุจูุธุจู ุงูุฃูู</option>
        <option value="ADX:ADIB">ADX:ADIB โ ูุตุฑู ุฃุจูุธุจู ุงูุฅุณูุงูู</option>
        <option value="ADX:ALDAR">ADX:ALDAR โ ุงูุฏุงุฑ ุงูุนูุงุฑูุฉ</option>
        <option value="ADX:ADC">ADX:ADC โ ุฃุฏููู ููุญูุฑ (ููุซุงู)</option>
      </optgroup>
      <!-- ุฏุจู DFM -->
      <optgroup label="ุฏุจู (DFM)">
        <option value="DFM:EMAAR">DFM:EMAAR โ ุฅุนูุงุฑ</option>
        <option value="DFM:DIB">DFM:DIB โ ุจูู ุฏุจู ุงูุฅุณูุงูู</option>
        <option value="DFM:DEWA">DFM:DEWA โ ุฏููุง</option>
        <option value="DFM:SALIK">DFM:SALIK โ ุณุงูู</option>
        <option value="DFM:AIRARABIA">DFM:AIRARABIA โ ุงูุนุฑุจูุฉ ููุทูุฑุงู</option>
      </optgroup>
    </select>
    <button id="load">ุนุฑุถ ุงูุฑุณู</button>
  </div>

  <div id="chart"></div>
  <div class="hint">ููุงุญุธุฉ: ุจุนุถ ุฑููุฒ ุฏุจู ูุฏ ุชููู ุจูุงูุงุชูุง ูุคุฌูุฉ ุฃู ูุง ุชุธูุฑ ูุคูุชูุง ุนุจุฑ ุงููุฏุฌุช. ุฌุฑูุจ ุฑููุฒูุง ุฃุฎุฑู ุฅู ูู ูุธูุฑ ุงูุฑุณู.</div>

  <!-- TradingView core script -->
  <script src="https://s3.tradingview.com/tv.js"></script>
  <script>
    let tvWidget = null;

    function renderChart(symbol) {
      // ุงูุณุญ ุฃู ูุฏุฌุช ุณุงุจู
      document.getElementById('chart').innerHTML = '';
      // ุฃูุดุฆ ูุฏุฌุช ุฌุฏูุฏ
      tvWidget = new TradingView.widget({
        container_id: 'chart',
        width: '100%',
        height: '100%',
        symbol: symbol,
        interval: 'D',
        timezone: 'Asia/Dubai',
        theme: 'light',
        style: '1',
        locale: 'ar',
        toolbar_bg: '#f1f3f6',
        hide_top_toolbar: false,
        hide_legend: false,
        save_image: false,
        enable_publishing: false
      });
    }

    // ุฒุฑ ุงูุชุญููู
    document.getElementById('load').addEventListener('click', () => {
      const sym = document.getElementById('symbol').value;
      renderChart(sym);
    });

    // ุชุญููู ุชููุงุฆู ูุฃูู ุฑูุฒ
    renderChart(document.getElementById('symbol').value);
  </script>
</body>
</html>
